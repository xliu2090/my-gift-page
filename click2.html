<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Gift for You</title>
    
    <!-- é¢„åŠ è½½æ‰€æœ‰å…³é”®èµ„æº -->
    <link rel="preload" href="https://github.com/xliu2090/my-images/blob/main/çƒŸèŠ±%20(2)_çˆ±ç»™ç½‘_aigei_com.gif?raw=true" as="image">
    <link rel="preload" href="https://raw.githubusercontent.com/xliu2090/my-images/refs/heads/main/1754086011516.png" as="image">
    
    <style>
        /* --- é€šç”¨æ ·å¼ --- */
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
        .page { display: none; justify-content: center; align-items: center; flex-direction: column; height: 100%; background: radial-gradient(ellipse at center, #4a4a4a 0%, #1c1c1c 100%); color: #ffffff; text-align: center; }
        .page.active { display: flex; animation: fadeIn 1s ease-in-out; }
        
        /* å…³é”®ä¿®æ”¹ 1: æ·»åŠ ä¸€ä¸ªå†…å®¹åŒ…è£…å™¨ç”¨äºç¼©æ”¾ */
        .content-scaler {
            transform: scale(0.85); /* å°†å†…å®¹æ•´ä½“ç¼©å°åˆ°85% */
        }

        /* --- é¡µé¢ 1: ç¤¼ç‰©ç›’æ ·å¼ --- */
        #page1 .gift-wrapper { position: relative; display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        #page1 .gift-box { font-size: 8rem; position: relative; z-index: 2; animation: bounce-enhanced 1.8s infinite ease-in-out, glow 2.5s infinite alternate ease-in-out; }
        #page1 .gift-shadow { width: 70px; height: 15px; background: rgba(0, 0, 0, 0.2); border-radius: 50%; filter: blur(10px); z-index: 1; margin-top: 20px; animation: shadow-bounce 1.8s infinite ease-in-out; }
        #page1 .click-text { font-size: 3.5rem; font-weight: bold; margin-top: 25px; text-shadow: 0 0 18px rgba(255, 255, 255, 0.6); }
        
        /* --- é¡µé¢ 2: Hi! é¡µé¢æ ·å¼ --- */
        #page2 h1 { font-size: 10rem; font-weight: bold; margin: 0; text-shadow: 0 0 25px rgba(255, 255, 255, 0.7); }
        #page2 .waving-gif { width: 150px; height: auto; margin-top: 20px; animation: wave-hand 2.5s ease-in-out infinite; }
        #page2 .next-button { margin-top: 40px; padding: 12px 28px; background-color: transparent; border: 2px solid #fff; color: #fff; border-radius: 50px; font-size: 1.2rem; text-decoration: none; cursor: pointer; transition: background-color 0.3s, color 0.3s; }
        #page2 .next-button:hover { background-color: #fff; color: #333; }
        
        /* --- é¡µé¢ 3: æ–‡å­—ä¸é£æ™¯é¡µé¢æ ·å¼ --- */
        #page3 { background-image: url('https://raw.githubusercontent.com/xliu2090/my-images/refs/heads/main/1754086011516.png'); background-size: 120%; background-position: center; animation: fadeIn 1.5s ease-in-out, zoomInEffect 40s linear infinite; }
        #page3 .text-container {
            max-width: 650px;
            padding: 2rem 3rem;
            /* å…³é”®ä¿®æ”¹ 3: é™ä½ alpha å€¼ (0.55 -> 0.4) ä½¿å…¶æ›´é€æ˜ */
            background-color: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(6px); /* ç¨å¾®é™ä½æ¨¡ç³Šä»¥é…åˆé€æ˜åº¦ */
            text-align: left;
            animation: slideUp 1.2s ease-out;
        }
        #page3 p { margin: 0 0 1.5rem 0; font-size: 1.1rem; line-height: 1.8; text-shadow: 0 1px 3px rgba(0,0,0,0.5); }
        #page3 p:last-child { margin-bottom: 0; }
        
        /* --- åŠ¨ç”»æ•ˆæœ --- */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes zoomInEffect { 0% { background-size: 120%; } 100% { background-size: 100%; } }
        @keyframes bounce-enhanced { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-30px) rotate(8deg) scale(1.05); } 55% { transform: translateY(-30px) rotate(-8deg) scale(1.05); } }
        @keyframes shadow-bounce { 0%, 100% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(0.75); opacity: 0.3; } }
        @keyframes glow { from { text-shadow: 0 0 10px #fff, 0 0 20px #ffdd77, 0 0 30px #ffdd77; } to { text-shadow: 0 0 20px #fff, 0 0 35px #ffdd77, 0 0 45px #ffdd77; } }
        @keyframes wave-hand { 0%, 100% { transform: rotate(0deg); } 15% { transform: rotate(14deg); } 30% { transform: rotate(-8deg); } 40% { transform: rotate(14deg); } 50% { transform: rotate(-4deg); } 60% { transform: rotate(10deg); } 70% { transform: rotate(0deg); } }
        
        .fireworks-gif { position: fixed; width: 300px; height: 300px; transform: translate(-50%, -50%); z-index: 10002; pointer-events: none; }
        #music-toggle { position: fixed; top: 20px; right: 20px; z-index: 10001; width: 45px; height: 45px; background: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 50%; color: white; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
    </style>
</head>
<body>

    <div class="page active" id="page1">
        <div class="content-scaler">
            <div class="gift-wrapper" onclick="openGift(event)">
                <div class="gift-box">ğŸ</div>
                <div class="gift-shadow"></div>
            </div>
            <div class="click-text">Click the Gift!</div>
        </div>
    </div>

    <div class="page" id="page2">
        <div class="content-scaler">
            <h1>Hi!</h1>
            <img src="https://raw.githubusercontent.com/xliu2090/my-images/refs/heads/main/%E7%BA%BF%E6%9D%A1%E5%B0%8F%E7%8B%97_%E7%88%B1%E7%BB%99%E7%BD%91_aigei_com.gif" alt="Waving dog gif" class="waving-gif">
            <a href="#" class="next-button" onclick="goToPoem(event)">Next</a>
        </div>
    </div>
    
    <div class="page" id="page3">
        <div class="text-container">
            <p>æ™šéœæŸ“çº¢äº†åŠè¾¹å¤©ï¼Œå¾®é£è½»æŠšè¿‡æ¹–é¢ï¼Œæ³›èµ·å±‚å±‚æ¶Ÿæ¼ªã€‚è¿œå±±å¦‚é»›ï¼Œå€’æ˜ åœ¨æ°´ä¸­ï¼Œåƒä¸€å¹…æ·¡é›…çš„æ°´å¢¨ç”»ã€‚</p>
            <p>å²¸è¾¹çš„æŸ³æ ‘å‚ä¸‹é•¿é•¿çš„ææ¡ï¼Œåœ¨é£ä¸­è½»æŸ”åœ°æ‘†åŠ¨ï¼Œå¶å°”æœ‰å‡ ç‰‡å¶å­é£˜è½ï¼Œæ‰“ç ´äº†æ¹–é¢çš„å®é™ã€‚é¸Ÿå„¿å½’å·¢ï¼Œä¼ æ¥é˜µé˜µå•å•¾å£°ï¼Œä¸ºè¿™ä¸ªå‚æ™šå¢æ·»äº†ç”Ÿæœºã€‚</p>
            <p>å¤•é˜³è¥¿ä¸‹ï¼Œé‡‘è‰²çš„å…‰èŠ’æ´’åœ¨å¤§åœ°ä¸Šï¼Œä¸€åˆ‡éƒ½æ˜¾å¾—é‚£ä¹ˆæ¸©æš–ã€‚è¿™ä¸€åˆ»ï¼Œæ—¶é—´ä»¿ä½›åœæ­¢äº†ï¼Œåªæœ‰å†…å¿ƒçš„å¹³é™åœ¨æ…¢æ…¢æµæ·Œã€‚è¿œå¤„ç‚ŠçƒŸè¢…è¢…ï¼Œæé†’ç€äººä»¬å®¶çš„æ¸©æš–æ­£åœ¨ç­‰å¾…ã€‚</p>
        </div>
    </div>

    <!-- å…³é”®ä¿®æ”¹ 2: ç§»é™¤äº† bg-music çš„ autoplay å±æ€§ -->
    <audio id="click-sound" preload="auto"><source src="https://raw.githubusercontent.com/xliu2090/my-images/main/xm3683.wav" type="audio/wav"></audio>
    <audio id="bg-music" loop preload="auto"><source src="https://raw.githubusercontent.com/xliu2090/my-images/main/obj_wo3DlMOGwrbDjj7DisKw_36568334256_2fbe_f8fb_d953_dea8acd8ffce77212827b3ec58e8a850.mp3" type="audio/mpeg"></audio>
    <button id="music-toggle">ğŸµ</button>

    <script>
        const page1 = document.getElementById('page1');
        const page2 = document.getElementById('page2');
        const page3 = document.getElementById('page3');
        const clickSound = document.getElementById('click-sound');
        const bgMusic = document.getElementById('bg-music');
        const musicToggle = document.getElementById('music-toggle');
        
        let giftOpened = false;

        function openGift(event) {
            if (giftOpened) return;
            giftOpened = true;
            clickSound.currentTime = 0; clickSound.play();
            let clickX, clickY;
            if (event.touches && event.touches.length > 0) { clickX = event.touches[0].clientX; clickY = event.touches[0].clientY; } else { clickX = event.clientX; clickY = event.clientY; }
            const fireworks = document.createElement('img');
            fireworks.src = 'https://github.com/xliu2090/my-images/blob/main/çƒŸèŠ±%20(2)_çˆ±ç»™ç½‘_aigei_com.gif?raw=true';
            fireworks.className = 'fireworks-gif';
            fireworks.style.left = clickX + 'px'; fireworks.style.top = clickY + 'px';
            document.body.appendChild(fireworks);
            setTimeout(() => { if (fireworks.parentNode) { fireworks.parentNode.removeChild(fireworks); } }, 1500);
            page1.classList.remove('active');
            page2.classList.add('active');
        }

        function goToPoem(event) {
            event.preventDefault();
            page2.classList.remove('active');
            page3.classList.add('active');
        }

        // --- éŸ³ä¹æ§åˆ¶é€»è¾‘ä¿®æ”¹ ---
        let musicIsIntendedToPlay = false; // é»˜è®¤æ„å›¾ä¸ºä¸æ’­æ”¾
        let hasInteracted = false;
        
        // å…³é”®ä¿®æ”¹ 2: é¡µé¢åŠ è½½æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºä¸ºæš‚åœçŠ¶æ€
        musicToggle.textContent = 'â¸ï¸';

        musicToggle.addEventListener('click', () => {
            musicIsIntendedToPlay = !musicIsIntendedToPlay;
            if (musicIsIntendedToPlay) {
                musicToggle.textContent = 'ğŸµ';
                // åªæœ‰åœ¨ç”¨æˆ·é¦–æ¬¡ä¸é¡µé¢äº¤äº’åï¼Œæ‰å°è¯•æ’­æ”¾
                if (hasInteracted) {
                    bgMusic.play();
                }
            } else {
                musicToggle.textContent = 'â¸ï¸';
                bgMusic.pause();
            }
        });

        function handleFirstInteraction() {
            if (hasInteracted) return;
            hasInteracted = true;
            // é¦–æ¬¡äº¤äº’æ—¶ä¸å†è‡ªåŠ¨æ’­æ”¾éŸ³ä¹ï¼Œè€Œæ˜¯ç­‰å¾…ç”¨æˆ·ç‚¹å‡»éŸ³ä¹æŒ‰é’®
        }
        
        document.body.addEventListener('touchend', handleFirstInteraction, { once: true });
        document.body.addEventListener('click', handleFirstInteraction, { once: true });
    </script>

</body>
</html>